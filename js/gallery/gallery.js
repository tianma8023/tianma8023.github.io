!function(a){a.fn.navList=function(){var e=a(this);return $a=e.find("a"),b=[],$a.each(function(){var e=a(this),t=Math.max(0,e.parents("li").length-1),o=e.attr("href"),n=e.attr("target");b.push('<a class="link depth-'+t+'"'+(void 0!==n&&""!=n?' target="'+n+'"':"")+(void 0!==o&&""!=o?' href="'+o+'"':"")+'><span class="indent-'+t+'"></span>'+e.text()+"</a>")}),b.join("")},a.fn.panel=function(e){if(0==this.length)return p;if(1<this.length){for(var t=0;t<this.length;t++)a(this[t]).panel(e);return p}var s,p=a(this),o=a("body"),n=a(window),i=p.attr("id");return"jQuery"!=typeof(s=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:p,visibleClass:"visible"},e)).target&&(s.target=a(s.target)),p._hide=function(e){s.target.hasClass(s.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),s.target.removeClass(s.visibleClass),window.setTimeout(function(){s.resetScroll&&p.scrollTop(0),s.resetForms&&p.find("form").each(function(){this.reset()})},s.delay))},p.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),s.hideOnClick&&(p.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),p.on("click","a",function(e){var t=a(this),o=t.attr("href"),n=t.attr("target");o&&"#"!=o&&""!=o&&o!="#"+i&&(e.preventDefault(),e.stopPropagation(),p._hide(),window.setTimeout(function(){"_blank"==n?window.open(o):window.location.href=o},s.delay+10))})),p.on("touchstart",function(e){p.touchPosX=e.originalEvent.touches[0].pageX,p.touchPosY=e.originalEvent.touches[0].pageY}),p.on("touchmove",function(e){if(null!==p.touchPosX&&null!==p.touchPosY){var t=p.touchPosX-e.originalEvent.touches[0].pageX,o=p.touchPosY-e.originalEvent.touches[0].pageY,n=p.outerHeight(),i=p.get(0).scrollHeight-p.scrollTop();if(s.hideOnSwipe){var a=!1,r=20;switch(s.side){case"left":a=o<r&&-20<o&&50<t;break;case"right":a=o<r&&-20<o&&t<-50;break;case"top":a=t<r&&-20<t&&50<o;break;case"bottom":a=t<r&&-20<t&&o<-50}if(a)return p.touchPosX=null,p.touchPosY=null,p._hide(),!1}(p.scrollTop()<0&&o<0||n-2<i&&i<n+2&&0<o)&&(e.preventDefault(),e.stopPropagation())}}),p.on("click touchend touchstart touchmove",function(e){e.stopPropagation()}),p.on("click",'a[href="#'+i+'"]',function(e){e.preventDefault(),e.stopPropagation(),s.target.removeClass(s.visibleClass)}),o.on("click touchend",function(e){p._hide(e)}),o.on("click",'a[href="#'+i+'"]',function(e){e.preventDefault(),e.stopPropagation(),s.target.toggleClass(s.visibleClass)}),s.hideOnEscape&&n.on("keydown",function(e){27==e.keyCode&&p._hide(e)}),p},a.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return a(this);if(0==this.length)return t;if(1<this.length){for(var e=0;e<this.length;e++)a(this[e]).placeholder();return t}var t=a(this);return t.find("input[type=text],textarea").each(function(){var e=a(this);(""==e.val()||e.val()==e.attr("placeholder"))&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||""==e.val()&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),t.find("input[type=password]").each(function(){var o=a(this),n=a(a("<div>").append(o.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=o.attr("id")&&n.attr("id",o.attr("id")+"-polyfill-field"),""!=o.attr("name")&&n.attr("name",o.attr("name")+"-polyfill-field"),n.addClass("polyfill-placeholder").val(n.attr("placeholder")).insertAfter(o),""==o.val()?o.hide():n.hide(),o.on("blur",function(e){e.preventDefault();var t=o.parent().find("input[name="+o.attr("name")+"-polyfill-field]");""==o.val()&&(o.hide(),t.show())}),n.on("focus",function(e){e.preventDefault();var t=n.parent().find("input[name="+n.attr("name").replace("-polyfill-field","")+"]");n.hide(),t.show().focus()}).on("keypress",function(e){e.preventDefault(),n.val("")})}),t.on("submit",function(){t.find("input[type=text],input[type=password],textarea").each(function(e){var t=a(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(e){e.preventDefault(),t.find("select").val(a("option:first").val()),t.find("input,textarea").each(function(){var e,t=a(this);switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),e=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),""==t.val()?(t.hide(),e.show()):(t.show(),e.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),""==t.val()&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"))}})}),t},a.prioritize=function(e,n){var i="__prioritize";"jQuery"!=typeof e&&(e=a(e)),e.each(function(){var e,t=a(this),o=t.parent();if(0!=o.length)if(t.data(i)){if(n)return;e=t.data(i),t.insertAfter(e),t.removeData(i)}else{if(!n)return;if(0==(e=t.prev()).length)return;t.prependTo(o),t.data(i,e)}})}}(jQuery);var skel=function(){var r={breakpointIds:null,events:{},isInit:!1,obj:{attachments:{},breakpoints:{},head:null,states:{}},sd:"/",state:null,stateHandlers:{},stateId:"",vars:{},DOMReady:null,indexOf:null,isArray:null,iterate:null,matchesMedia:null,extend:function(t,o){r.iterate(o,function(e){r.isArray(o[e])?(r.isArray(t[e])||(t[e]=[]),r.extend(t[e],o[e])):"object"==typeof o[e]?("object"!=typeof t[e]&&(t[e]={}),r.extend(t[e],o[e])):t[e]=o[e]})},newStyle:function(e){var t=document.createElement("style");return t.type="text/css",t.innerHTML=e,t},_canUse:null,canUse:function(e){r._canUse||(r._canUse=document.createElement("div"));var t=r._canUse.style,o=e.charAt(0).toUpperCase()+e.slice(1);return e in t||"Moz"+o in t||"Webkit"+o in t||"O"+o in t||"ms"+o in t},on:function(e,i){var a=e.split(/[\s]+/);return r.iterate(a,function(e){var t=a[e];if(r.isInit){if("init"==t)return void i();if("change"==t)i();else{var o=t.charAt(0);if("+"==o||"!"==o){var n=t.substring(1);if(n in r.obj.breakpoints)if("+"==o&&r.obj.breakpoints[n].active)i();else if("!"==o&&!r.obj.breakpoints[n].active)return void i()}}}r.events[t]||(r.events[t]=[]),r.events[t].push(i)}),r},trigger:function(t){return r.events[t]&&0!=r.events[t].length?(r.iterate(r.events[t],function(e){r.events[t][e]()}),r):void 0},breakpoint:function(e){return r.obj.breakpoints[e]},breakpoints:function(t){function o(e,t){this.name=this.id=e,this.media=t,this.active=!1,this.wasActive=!1}return o.prototype.matches=function(){return r.matchesMedia(this.media)},o.prototype.sync=function(){this.wasActive=this.active,this.active=this.matches()},r.iterate(t,function(e){r.obj.breakpoints[e]=new o(e,t[e])}),window.setTimeout(function(){r.poll()},0),r},addStateHandler:function(e,t){r.stateHandlers[e]=t},callStateHandler:function(e){var t=r.stateHandlers[e]();r.iterate(t,function(e){r.state.attachments.push(t[e])})},changeState:function(e){r.iterate(r.obj.breakpoints,function(e){r.obj.breakpoints[e].sync()}),r.vars.lastStateId=r.stateId,r.stateId=e,r.breakpointIds=r.stateId===r.sd?[]:r.stateId.substring(1).split(r.sd),r.obj.states[r.stateId]?r.state=r.obj.states[r.stateId]:(r.obj.states[r.stateId]={attachments:[]},r.state=r.obj.states[r.stateId],r.iterate(r.stateHandlers,r.callStateHandler)),r.detachAll(r.state.attachments),r.attachAll(r.state.attachments),r.vars.stateId=r.stateId,r.vars.state=r.state,r.trigger("change"),r.iterate(r.obj.breakpoints,function(e){r.obj.breakpoints[e].active?r.obj.breakpoints[e].wasActive||r.trigger("+"+e):r.obj.breakpoints[e].wasActive&&r.trigger("-"+e)})},generateStateConfig:function(e,t){var o={};return r.extend(o,e),r.iterate(r.breakpointIds,function(e){r.extend(o,t[r.breakpointIds[e]])}),o},getStateId:function(){var o="";return r.iterate(r.obj.breakpoints,function(e){var t=r.obj.breakpoints[e];t.matches()&&(o+=r.sd+t.id)}),o},poll:function(){var e="";""===(e=r.getStateId())&&(e=r.sd),e!==r.stateId&&r.changeState(e)},_attach:null,attach:function(e){var t=r.obj.head,o=e.element;return(!o.parentNode||!o.parentNode.tagName)&&(r._attach||(r._attach=t.firstChild),t.insertBefore(o,r._attach.nextSibling),e.permanent&&(r._attach=o),!0)},attachAll:function(t){var o=[];r.iterate(t,function(e){o[t[e].priority]||(o[t[e].priority]=[]),o[t[e].priority].push(t[e])}),o.reverse(),r.iterate(o,function(t){r.iterate(o[t],function(e){r.attach(o[t][e])})})},detach:function(e){var t=e.element;return!(e.permanent||!t.parentNode||t.parentNode&&!t.parentNode.tagName)&&(t.parentNode.removeChild(t),!0)},detachAll:function(t){var o={};r.iterate(t,function(e){o[t[e].id]=!0}),r.iterate(r.obj.attachments,function(e){e in o||r.detach(r.obj.attachments[e])})},attachment:function(e){return e in r.obj.attachments?r.obj.attachments[e]:null},newAttachment:function(e,t,o,n){return r.obj.attachments[e]={id:e,element:t,priority:o,permanent:n}},init:function(){r.initMethods(),r.initVars(),r.initEvents(),r.obj.head=document.getElementsByTagName("head")[0],r.isInit=!0,r.trigger("init")},initEvents:function(){r.on("resize",function(){r.poll()}),r.on("orientationChange",function(){r.poll()}),r.DOMReady(function(){r.trigger("ready")}),window.onload&&r.on("load",window.onload),window.onload=function(){r.trigger("load")},window.onresize&&r.on("resize",window.onresize),window.onresize=function(){r.trigger("resize")},window.onorientationchange&&r.on("orientationChange",window.onorientationchange),window.onorientationchange=function(){r.trigger("orientationChange")}},initMethods:function(){var e,t,o,n,i;document.addEventListener?r.DOMReady=(t=[],o=document,n="DOMContentLoaded",i=/^loaded|^c/.test(o.readyState),o.addEventListener(n,e=function(){o.removeEventListener(n,e),function(e){for(i=1;e=t.shift();)e()}()}),function(e){i?e():t.push(e)}):r.DOMReady=function(o){function e(e){for(u=1;e=n.shift();)e()}var t,n=[],i=document,a=i.documentElement,r=a.doScroll,s="DOMContentLoaded",p="addEventListener",c="onreadystatechange",l="readyState",u=(r?/^loaded|^c/:/^loaded|c/).test(i[l]);return i[p]&&i[p](s,t=function(){i.removeEventListener(s,t,!1),e()},!1),r&&i.attachEvent(c,t=function(){/^c/.test(i[l])&&(i.detachEvent(c,t),e())}),o=r?function(t){self!=top?u?t():n.push(t):function(){try{a.doScroll("left")}catch(e){return setTimeout(function(){o(t)},50)}t()}()}:function(e){u?e():n.push(e)}}(),Array.prototype.indexOf?r.indexOf=function(e,t){return e.indexOf(t)}:r.indexOf=function(e,t){if("string"==typeof e)return e.indexOf(t);var o,n,i=t||0;if(!this)throw new TypeError;if(0===(n=this.length)||n<=i)return-1;for(i<0&&(i=n-Math.abs(i)),o=i;o<n;o++)if(this[o]===e)return o;return-1},Array.isArray?r.isArray=function(e){return Array.isArray(e)}:r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Object.keys?r.iterate=function(e,t){if(!e)return[];var o,n=Object.keys(e);for(o=0;n[o]&&!1!==t(n[o],e[n[o]]);o++);}:r.iterate=function(e,t){if(!e)return[];var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&!1===t(o,e[o]))break},window.matchMedia?r.matchesMedia=function(e){return""==e||window.matchMedia(e).matches}:window.styleMedia||window.media?r.matchesMedia=function(e){return""==e||(window.styleMedia||window.media).matchMedium(e||"all")}:window.getComputedStyle?r.matchesMedia=function(e){if(""==e)return!0;var t,o=document.createElement("style"),n=document.getElementsByTagName("script")[0];o.type="text/css",o.id="matchmediajs-test",n.parentNode.insertBefore(o,n),t="getComputedStyle"in window&&window.getComputedStyle(o,null)||o.currentStyle;var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return o.styleSheet?o.styleSheet.cssText=i:o.textContent=i,"1px"===t.width}:r.matchesMedia=function(e){if(""==e)return!0;var t,o,n,i,a={"min-width":null,"max-width":null},r=!1;for(n=e.split(/\s+and\s+/),t=0;t<n.length;t++)"("==(o=n[t]).charAt(0)&&(2==(i=(o=o.substring(1,o.length-1)).split(/:\s+/)).length&&(a[i[0].replace(/^\s+|\s+$/g,"")]=parseInt(i[1]),r=!0));if(!r)return!1;var s=document.documentElement.clientWidth,p=document.documentElement.clientHeight;return!(null!==a["min-width"]&&s<a["min-width"]||null!==a["max-width"]&&s>a["max-width"]||null!==a["min-height"]&&p<a["min-height"]||null!==a["max-height"]&&p>a["max-height"])},navigator.userAgent.match(/MSIE ([0-9]+)/)&&RegExp.$1<9&&(r.newStyle=function(e){var t=document.createElement("span");return t.innerHTML='&nbsp;<style type="text/css">'+e+"</style>",t})},initVars:function(){var o,n,e,i=navigator.userAgent;o="other",n=0,e=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]],r.iterate(e,function(e,t){return i.match(t[1])?(o=t[0],n=parseFloat(RegExp.$1),!1):void 0}),r.vars.browser=o,r.vars.browserVersion=n,o="other",n=0,e=[["ios",/([0-9_]+) like Mac OS X/,function(e){return e.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(e){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(e){return e.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null]],r.iterate(e,function(e,t){return i.match(t[1])?(o=t[0],n=parseFloat(t[2]?t[2](RegExp.$1):RegExp.$1),!1):void 0}),r.vars.os=o,r.vars.osVersion=n,r.vars.IEVersion="ie"==r.vars.browser?r.vars.browserVersion:99,r.vars.touch="wp"==r.vars.os?0<navigator.msMaxTouchPoints:!!("ontouchstart"in window),r.vars.mobile="wp"==r.vars.os||"android"==r.vars.os||"ios"==r.vars.os||"bb"==r.vars.os}};return r.init(),r}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.skel=t()}(this,function(){return skel}),function(a){skel.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),a(function(){var e,t=a(window),o=a("body");(a("#wrapper"),skel.vars.IEVersion<12&&o.addClass("ie"),skel.vars.mobile&&o.addClass("touch"),skel.canUse("transition"))&&(o.addClass("loading"),t.on("load",function(){window.setTimeout(function(){o.removeClass("loading")},100)}),t.on("resize",function(){window.clearTimeout(e),o.addClass("resizing"),e=window.setTimeout(function(){o.removeClass("resizing")},100)}));t.scrollTop(0),a("form").placeholder();var n=a(".panel");n.each(function(){var t=a(this),e=a('[href="#'+t.attr("id")+'"]');a('<div class="closer" />').appendTo(t).on("click",function(e){t.trigger("---hide")}),t.on("click",function(e){e.stopPropagation()}).on("---toggle",function(){t.hasClass("active")?t.triggerHandler("---hide"):t.triggerHandler("---show")}).on("---show",function(){o.hasClass("content-active")&&n.trigger("---hide"),t.addClass("active"),e.addClass("active"),o.addClass("content-active")}).on("---hide",function(){t.removeClass("active"),e.removeClass("active"),o.removeClass("content-active")}),e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("---toggle")})}),o.on("click",function(e){o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),n.trigger("---hide"))}),t.on("keyup",function(e){27==e.keyCode&&o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),n.trigger("---hide"))}),a("#header").find("a").each(function(){var e=a(this),t=e.attr("href");t&&"#"!=t.charAt(0)&&e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=t})}),a("#footer").find(".copyright").each(function(){var e=a(this),t=e.parent(),o=t.parent().children().last();skel.on("+medium",function(){e.appendTo(o)}).on("-medium",function(){e.appendTo(t)})});var i=a("#main");i.children(".thumb").each(function(){var e,t=a(this),o=t.find(".image"),n=o.children("img");0!=o.length&&((e=n.data("position"))&&o.css("background-position",e),n.hide(),skel.vars.IEVersion<11&&t.css("cursor","pointer").on("click",function(){o.trigger("click")}))}),i.poptrox({baseZIndex:2e4,caption:function(e){var t="";return e.nextAll().each(function(){t+=this.outerHTML}),t},fadeSpeed:300,onPopupClose:function(){o.removeClass("modal-active")},onPopupOpen:function(){o.addClass("modal-active")},overlayOpacity:0,popupCloserText:"",popupHeight:150,popupLoaderText:"",popupSpeed:300,popupWidth:150,selector:".thumb > a.image",usePopupCaption:!0,usePopupCloser:!0,usePopupDefaultStyling:!1,usePopupForceClose:!0,usePopupLoader:!0,usePopupNav:!0,windowMargin:50}),skel.on("-xsmall",function(){i[0]._poptrox.windowMargin=50}).on("+xsmall",function(){i[0]._poptrox.windowMargin=0})})}(jQuery),function(T){T.fn.poptrox_disableSelection=function(){return T(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")},T.fn.poptrox=function(e){function r(){i=T(window).width(),a=T(window).height()+l.windowHeightPad;var e=Math.abs(p.width()-p.outerWidth()),t=Math.abs(p.height()-p.outerHeight()),o=(b.width(),b.height(),i-2*l.windowMargin-e),n=a-2*l.windowMargin-t;p.css("min-width",l.popupWidth).css("min-height",l.popupHeight),w.children().css("max-width",o).css("max-height",n)}if(0==this.length)return T(this);if(1<this.length){for(var t=0;t<this.length;t++)T(this[t]).poptrox(e);return T(this)}var i,a,p,l=T.extend({preload:!1,baseZIndex:1e3,fadeSpeed:300,overlayColor:"#000000",overlayOpacity:.6,overlayClass:"poptrox-overlay",windowMargin:50,windowHeightPad:0,selector:"a",caption:null,parent:"body",popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:!1,useBodyOverflow:!1,usePopupEasyClose:!0,usePopupForceClose:!1,usePopupLoader:!0,usePopupCloser:!0,usePopupCaption:!1,usePopupNav:!1,usePopupDefaultStyling:!0,popupBackgroundColor:"#FFFFFF",popupTextColor:"#000000",popupLoaderTextSize:"2em",popupCloserBackgroundColor:"#000000",popupCloserTextColor:"#FFFFFF",popupCloserTextSize:"20px",popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:null,popupBlankCaptionText:"(untitled)",popupCloserText:"&#215;",popupLoaderText:"&bull;&bull;&bull;&bull;",popupClass:"poptrox-popup",popupSelector:null,popupLoaderSelector:".loader",popupCloserSelector:".closer",popupCaptionSelector:".caption",popupNavPreviousSelector:".nav-previous",popupNavNextSelector:".nav-next",onPopupClose:null,onPopupOpen:null},e),o=T(this),n=T("body"),s=T('<div class="'+l.overlayClass+'"></div>'),u=T(window),d=[],h=0,f=!1,g=new Array;l.usePopupLoader||(l.popupLoaderSelector=null),l.usePopupCloser||(l.popupCloserSelector=null),l.usePopupCaption||(l.popupCaptionSelector=null),l.usePopupNav||(l.popupNavPreviousSelector=null,l.popupNavNextSelector=null);var v,m,w=(p=T(l.popupSelector?l.popupSelector:'<div class="'+l.popupClass+'">'+(l.popupLoaderSelector?'<div class="loader">'+l.popupLoaderText+"</div>":"")+'<div class="pic"></div>'+(l.popupCaptionSelector?'<div class="caption"></div>':"")+(l.popupCloserSelector?'<span class="closer">'+l.popupCloserText+"</span>":"")+(l.popupNavPreviousSelector?'<div class="nav-previous"></div>':"")+(l.popupNavNextSelector?'<div class="nav-next"></div>':"")+"</div>")).find(".pic"),b=T(),x=p.find(l.popupLoaderSelector),y=p.find(l.popupCaptionSelector),C=p.find(l.popupCloserSelector),k=p.find(l.popupNavNextSelector),S=p.find(l.popupNavPreviousSelector),P=k.add(S);l.usePopupDefaultStyling&&(p.css("background",l.popupBackgroundColor).css("color",l.popupTextColor).css("padding",l.popupPadding+"px"),0<y.length&&(p.css("padding-bottom",l.popupCaptionHeight+"px"),y.css("position","absolute").css("left","0").css("bottom","0").css("width","100%").css("text-align","center").css("height",l.popupCaptionHeight+"px").css("line-height",l.popupCaptionHeight+"px"),l.popupCaptionTextSize&&y.css("font-size",popupCaptionTextSize)),0<C.length&&C.html(l.popupCloserText).css("font-size",l.popupCloserTextSize).css("background",l.popupCloserBackgroundColor).css("color",l.popupCloserTextColor).css("display","block").css("width","40px").css("height","40px").css("line-height","40px").css("text-align","center").css("position","absolute").css("text-decoration","none").css("outline","0").css("top","0").css("right","-40px"),0<x.length&&x.html("").css("position","relative").css("font-size",l.popupLoaderTextSize).on("startSpinning",function(e){var t=T("<div>"+l.popupLoaderText+"</div>");t.css("height",Math.floor(l.popupHeight/2)+"px").css("overflow","hidden").css("line-height",Math.floor(l.popupHeight/2)+"px").css("text-align","center").css("margin-top",Math.floor((p.height()-t.height()+(0<y.length?y.height():0))/2)).css("color",l.popupTextColor?l.popupTextColor:"").on("xfin",function(){t.fadeTo(300,.5,function(){t.trigger("xfout")})}).on("xfout",function(){t.fadeTo(300,.05,function(){t.trigger("xfin")})}).trigger("xfin"),x.append(t)}).on("stopSpinning",function(e){x.find("div").remove()}),2==P.length)&&(P.css("font-size","75px").css("text-align","center").css("color","#fff").css("text-shadow","none").css("height","100%").css("position","absolute").css("top","0").css("opacity","0.35").css("cursor","pointer").css("box-shadow","inset 0px 0px 10px 0px rgba(0,0,0,0)").poptrox_disableSelection(),l.usePopupEasyClose?m=v="100px":(v="75%",m="25%"),k.css("right","0").css("width",v).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</div>'),S.css("left","0").css("width",m).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</div>'));return u.on("resize orientationchange",function(){r()}),y.on("update",function(e,t){t&&0!=t.length||(t=l.popupBlankCaptionText),y.html(t)}),C.css("cursor","pointer").on("click",function(e){return e.preventDefault(),e.stopPropagation(),p.trigger("poptrox_close"),!0}),k.on("click",function(e){e.stopPropagation(),e.preventDefault(),p.trigger("poptrox_next")}),S.on("click",function(e){e.stopPropagation(),e.preventDefault(),p.trigger("poptrox_previous")}),s.css("position","fixed").css("left",0).css("top",0).css("z-index",l.baseZIndex).css("width","100%").css("height","100%").css("text-align","center").css("cursor","pointer").appendTo(l.parent).prepend('<div style="display:inline-block;height:100%;vertical-align:middle;"></div>').append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;background:'+l.overlayColor+";opacity:"+l.overlayOpacity+";filter:alpha(opacity="+100*l.overlayOpacity+');"></div>').hide().on("touchmove",function(e){return!1}).on("click",function(e){e.preventDefault(),e.stopPropagation(),p.trigger("poptrox_close")}),p.css("display","inline-block").css("vertical-align","middle").css("position","relative").css("z-index",1).css("cursor","auto").appendTo(s).hide().on("poptrox_next",function(){var e=h+1;e>=d.length&&(e=0),p.trigger("poptrox_switch",[e])}).on("poptrox_previous",function(){var e=h-1;e<0&&(e=d.length-1),p.trigger("poptrox_switch",[e])}).on("poptrox_reset",function(){r(),p.data("width",l.popupWidth).data("height",l.popupHeight),x.hide().trigger("stopSpinning"),y.hide(),C.hide(),P.hide(),w.hide(),b.attr("src","").detach()}).on("poptrox_open",function(e,t){return!!f||(f=!0,l.useBodyOverflow&&n.css("overflow","hidden"),l.onPopupOpen&&l.onPopupOpen(),p.addClass("loading"),void s.fadeTo(l.fadeSpeed,1,function(){p.trigger("poptrox_switch",[t,!0])}))}).on("poptrox_switch",function(e,n,t){var i,o,a;if(!t&&f)return!0;(f=!0,p.addClass("loading").css("width",p.data("width")).css("height",p.data("height")),y.hide(),b.attr("src")&&b.attr("src",""),b.detach(),i=d[n],(b=i.object).off("load"),w.css("text-indent","-9999px").show().append(b),"ajax"==i.type?T.get(i.src,function(e){b.html(e),b.trigger("load")}):b.attr("src",i.src),"image"!=i.type)&&(o=i.width,a=i.height,"%"==o.slice(-1)&&(o=parseInt(o.substring(0,o.length-1))/100*u.width()),"%"==a.slice(-1)&&(a=parseInt(a.substring(0,a.length-1))/100*u.height()),b.css("position","relative").css("outline","0").css("z-index",l.baseZIndex+100).width(o).height(a));x.trigger("startSpinning").fadeIn(300),p.show(),l.popupIsFixed?(p.removeClass("loading").width(l.popupWidth).height(l.popupHeight),b.load(function(){b.off("load"),x.hide().trigger("stopSpinning"),y.trigger("update",[i.captionText]).fadeIn(l.fadeSpeed),C.fadeIn(l.fadeSpeed),w.css("text-indent",0).hide().fadeIn(l.fadeSpeed,function(){f=!1}),h=n,P.fadeIn(l.fadeSpeed)})):b.load(function(){r(),b.off("load"),x.hide().trigger("stopSpinning");var e=b.width(),t=b.height(),o=function(){y.trigger("update",[i.captionText]).fadeIn(l.fadeSpeed),C.fadeIn(l.fadeSpeed),w.css("text-indent",0).hide().fadeIn(l.fadeSpeed,function(){f=!1}),h=n,P.fadeIn(l.fadeSpeed),p.removeClass("loading").data("width",e).data("height",t).css("width","auto").css("height","auto")};e==p.data("width")&&t==p.data("height")?o():p.animate({width:e,height:t},l.popupSpeed,"swing",o)}),"image"!=i.type&&b.trigger("load")}).on("poptrox_close",function(){return!(!f||l.usePopupForceClose)||(f=!0,p.hide().trigger("poptrox_reset"),l.onPopupClose&&l.onPopupClose(),void s.fadeOut(l.fadeSpeed,function(){l.useBodyOverflow&&n.css("overflow","auto"),f=!1}))}).trigger("poptrox_reset"),l.usePopupEasyClose?(y.on("click","a",function(e){e.stopPropagation()}),p.css("cursor","pointer").on("click",function(e){e.stopPropagation(),e.preventDefault(),p.trigger("poptrox_close")})):p.on("click",function(e){e.stopPropagation()}),u.keydown(function(e){if(p.is(":visible"))switch(e.keyCode){case 37:case 32:if(l.usePopupNav)return p.trigger("poptrox_previous"),!1;break;case 39:if(l.usePopupNav)return p.trigger("poptrox_next"),!1;break;case 27:return p.trigger("poptrox_close"),!1}}),o.find(l.selector).each(function(t){var e,o=T(this),n=o.find("img"),i=o.data("poptrox");if("ignore"!=i&&o.attr("href")){var a;if(e={src:o.attr("href"),captionText:n.attr("title"),width:null,height:null,type:null,object:null,options:null},l.caption){if("function"==typeof l.caption)c=l.caption(o);else if("selector"in l.caption)a=o.find(l.caption.selector),"attribute"in l.caption?c=a.attr(l.caption.attribute):(c=a.html(),!0===l.caption.remove&&a.remove())}else c=n.attr("title");if(e.captionText=c,i){var r=i.split(",");0 in r&&(e.type=r[0]),1 in r&&((s=r[1].match(/([0-9%]+)x([0-9%]+)/))&&3==s.length&&(e.width=s[1],e.height=s[2])),2 in r&&(e.options=r[2])}if(!e.type)switch((!(s=e.src.match(/\/\/([a-z0-9\.]+)\/.*/))||s.length<2)&&(s=[!1]),s[1]){case"api.soundcloud.com":e.type="soundcloud";break;case"youtu.be":e.type="youtube";break;case"vimeo.com":e.type="vimeo";break;case"wistia.net":e.type="wistia";break;case"bcove.me":e.type="bcove";break;default:e.type="image"}switch(s=e.src.match(/\/\/[a-z0-9\.]+\/(.*)/),e.type){case"iframe":e.object=T('<iframe src="" frameborder="0"></iframe>'),e.object.on("click",function(e){e.stopPropagation()}).css("cursor","auto"),e.width&&e.height||(e.width="600",e.height="400");break;case"ajax":e.object=T('<div class="poptrox-ajax"></div>'),e.object.on("click",function(e){e.stopPropagation()}).css("cursor","auto").css("overflow","auto"),e.width&&e.height||(e.width="600",e.height="400");break;case"soundcloud":e.object=T('<iframe scrolling="no" frameborder="no" src=""></iframe>'),e.src="//w.soundcloud.com/player/?url="+escape(e.src)+(e.options?"&"+e.options:""),e.width="600",e.height="166";break;case"youtube":e.object=T('<iframe src="" frameborder="0" allowfullscreen="1"></iframe>'),e.src="//www.youtube.com/embed/"+s[1]+(e.options?"?"+e.options:""),e.width&&e.height||(e.width="800",e.height="480");break;case"vimeo":e.object=T('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),e.src="//player.vimeo.com/video/"+s[1]+(e.options?"?"+e.options:""),e.width&&e.height||(e.width="800",e.height="480");break;case"wistia":e.object=T('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),e.src="//fast.wistia.net/"+s[1]+(e.options?"?"+e.options:""),e.width&&e.height||(e.width="800",e.height="480");break;case"bcove":e.object=T('<iframe src="" frameborder="0" allowFullScreen="1" width="100%"></iframe>'),e.src="//bcove.me/"+s[1]+(e.options?"?"+e.options:""),e.width&&e.height||(e.width="640",e.height="360");break;default:var s;if(e.object=T('<img src="" alt="" style="vertical-align:bottom" />'),l.preload)(s=document.createElement("img")).src=e.src,g.push(s);e.width=o.attr("width"),e.height=o.attr("height")}"file:"==window.location.protocol&&e.src.match(/^\/\//)&&(e.src="http:"+e.src),d.push(e),n.removeAttr("title"),o.removeAttr("href").css("cursor","pointer").css("outline",0).on("click",function(e){e.preventDefault(),e.stopPropagation(),p.trigger("poptrox_open",[t])})}}),o.prop("_poptrox",l),o}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(a){var r=a.event.dispatch||a.event.handle,s=a.event.special,i="D"+ +new Date,o="D"+(+new Date+1);s.scrollstart={setup:function(e){var o,n=a.extend({latency:s.scrollstop.latency},e),t=function(e){var t=arguments;o?clearTimeout(o):(e.type="scrollstart",r.apply(this,t)),o=setTimeout(function(){o=null},n.latency)};a(this).bind("scroll",t).data(i,t)},teardown:function(){a(this).unbind("scroll",a(this).data(i))}},s.scrollstop={latency:250,setup:function(e){var n,i=a.extend({latency:s.scrollstop.latency},e),t=function(e){var t=this,o=arguments;n&&clearTimeout(n),n=setTimeout(function(){n=null,e.type="scrollstop",r.apply(t,o)},i.latency)};a(this).bind("scroll",t).data(o,t)},teardown:function(){a(this).unbind("scroll",a(this).data(o))}}});